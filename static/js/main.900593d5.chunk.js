(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{137:function(e,t,c){},143:function(e,t,c){},152:function(e,t,c){"use strict";c.r(t);var n,a=c(0),r=c.n(a),i=c(30),s=c.n(i),j=c(60),o=c(14),l=(c(137),c(63)),d=(c(143),c(211)),b=c(216),u=c(217),O=c(220),x=c(223),h=c(222),m=c(221),p=c(212),f=c(218),g=c(207),v=c(201),y=c(81),A=c(198),S=c(74),C=c.n(S),E=c(75),P=c.n(E),w=c(76),N=c.n(w),T=c(1),k=Object(a.memo)((function(e){var t=e.countryName,c=e.text;return Object(T.jsx)(j.b,{to:"/country/".concat(t),style:{textDecoration:"none",color:"inherit"},children:c})})),L=Object(a.memo)((function(e){var t=e.country,c=t.name,n=t.flags,a=t.region,r=t.population,i=t.capital;return Object(T.jsx)(d.a,{item:!0,xs:12,sm:6,md:4,lg:2,children:Object(T.jsxs)(O.a,{sx:{maxWidth:345},children:[Object(T.jsx)(m.a,{component:"img",height:"140",image:n.svg,alt:c.common}),Object(T.jsxs)(h.a,{children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"div",children:c.common}),Object(T.jsxs)(f.a,{children:[Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(C.a,{})}),Object(T.jsx)(v.a,{primary:"Region: ".concat(a)})]}),Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(P.a,{})}),Object(T.jsx)(v.a,{primary:"Population: ".concat(r)})]}),Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(N.a,{})}),Object(T.jsx)(v.a,{primary:"Capital: ".concat(i)})]})]})]}),Object(T.jsx)(x.a,{children:Object(T.jsx)(p.a,{size:"small",sx:{color:"#777"},children:Object(T.jsx)(k,{countryName:c.common,text:"Learn more"})})})]})})})),I=c(11),R=c(224),B=c(209),_=c(213),Q=c(205),W=c(208),F=c(110);!function(e){e.Africa="Africa",e.Americas="Americas",e.Asia="Asia",e.Europe="Europe",e.Oceania="Oceania"}(n||(n={}));var J=function(){return Object(l.b)()},z=l.c,D=c(15),G=c(46),M=c(93),U=c.n(M),q=c(109),H="https://restcountries.com/v3.1",K=function(e){return"/region/".concat(e)},V=function(e){return"/name/".concat(e)},X=function(e){return"/alpha/".concat(e)},Y=function(e){return function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c={method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"};return t&&(c.body=JSON.stringify(t),c.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(H+e,c).then((function(e){if(!e.ok)throw new Error;return e.json()}))}(e)},Z=Object(G.b)("countries/fetch_countriesByRegion",(function(e){return Y(K(e))})),$=Object(G.b)("countries/fetch_countries",function(){var e=Object(q.a)(U.a.mark((function e(t,c){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.dispatch(Z(n.Oceania)),c.dispatch(Z(n.Africa)),c.dispatch(Z(n.Americas)),c.dispatch(Z(n.Asia)),c.dispatch(Z(n.Europe));case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),ee=Object(G.c)({name:"countriesState",initialState:{countries:{},countriesIsLoading:!1,countriesError:""},reducers:{},extraReducers:function(e){e.addCase(Z.pending,(function(e){e.countriesIsLoading=!0})),e.addCase(Z.fulfilled,(function(e,t){e.countries[t.meta.arg]=t.payload,e.countriesIsLoading=!1})),e.addCase(Z.rejected,(function(e,t){e.countriesError=t.error.name||"",e.countriesIsLoading=!1}))}}).reducer,te=Object(G.c)({name:"filterState",initialState:{filterType:"",appliedQuery:""},reducers:{setFilterType:function(e,t){e.filterType=t.payload},setAppliedQuery:function(e,t){e.appliedQuery=t.payload}}}),ce=te.actions,ne=ce.setFilterType,ae=ce.setAppliedQuery,re=te.reducer,ie=Object(G.a)({reducer:{countriesState:ee,filtersState:re}}),se=function(e){return e.countriesState},je=function(e){return e.filtersState},oe=function(e){var t=e.countriesState.countries,c=e.filtersState,n=c.filterType,a=c.appliedQuery,r=[],i=a.toLowerCase();return n?r=t[n]:Object.values(t).forEach((function(e){var t;(t=r).push.apply(t,Object(D.a)(e))})),r.filter((function(e){return e.name.common.toLowerCase().includes(i)}))},le=function(){var e=J(),t=z(je).filterType,c=Object(a.useState)(""),r=Object(I.a)(c,2),i=r[0],s=r[1],j=Object(F.a)((function(t){e(ae(t))}),300);return Object(T.jsxs)(d.a,{container:!0,item:!0,xs:12,children:[Object(T.jsx)(d.a,{item:!0,xs:12,sm:5,md:2,children:Object(T.jsx)(W.a,{fullWidth:!0,label:"Country",variant:"outlined",margin:"normal",value:i,onChange:function(e){s(e.target.value),j(e.target.value)}})}),Object(T.jsx)(d.a,{item:!0,xs:0,sm:2,md:8}),Object(T.jsx)(d.a,{item:!0,xs:12,sm:5,md:2,children:Object(T.jsxs)(R.a,{fullWidth:!0,margin:"normal",children:[Object(T.jsx)(B.a,{id:"demo-simple-select-label",children:"Region"}),Object(T.jsxs)(Q.a,{value:t,label:"Region",onChange:function(t){e(ne(t.target.value))},children:[Object(T.jsx)(_.a,{value:"",children:"All"}),Object(T.jsx)(_.a,{value:n.Africa,children:"Africa"}),Object(T.jsx)(_.a,{value:n.Americas,children:"Americas"}),Object(T.jsx)(_.a,{value:n.Asia,children:"Asia"}),Object(T.jsx)(_.a,{value:n.Europe,children:"Europe"}),Object(T.jsx)(_.a,{value:n.Oceania,children:"Oceania"})]})]})})]})},de=function(){var e=J(),t=z(se),c=t.countriesError,n=t.countriesIsLoading,r=z(oe);return Object(a.useEffect)((function(){e($())}),[]),Object(T.jsxs)("div",{className:"app",children:[Object(T.jsx)(b.a,{elevation:8,children:Object(T.jsx)("h1",{className:"app__header",children:"Where in the world?"})}),n&&Object(T.jsx)(u.a,{}),!c&&!n&&Object(T.jsxs)(b.a,{elevation:16,style:{padding:"20px"},children:[Object(T.jsx)(le,{}),Object(T.jsx)(d.a,{container:!0,spacing:2,children:r.map((function(e){return Object(T.jsx)(L,{country:e},e.name.common)}))})]})]})},be=c(204),ue=c(219),Oe=c(111),xe=c.n(Oe),he=c(113),me=c.n(he),pe=c(114),fe=c.n(pe),ge=c(115),ve=c.n(ge),ye=c(112),Ae=c.n(ye),Se=function(){var e=Object(o.h)().name,t=void 0===e?"":e,c=Object(o.g)(),n=Object(a.useState)(null),r=Object(I.a)(n,2),i=r[0],s=r[1],j=Object(a.useState)(!1),l=Object(I.a)(j,2),d=l[0],O=l[1],x=Object(a.useState)(""),h=Object(I.a)(x,2),m=h[0],S=h[1],E=Object(a.useState)([]),w=Object(I.a)(E,2),L=w[0],R=w[1];return Object(a.useEffect)((function(){O(!0),function(e){return Y(V(e))}(t).then((function(e){return s(e[0])})).catch(S).finally((function(){return O(!1)}))}),[t]),Object(a.useEffect)((function(){if(i&&i.borders){var e=i.borders.map((function(e){return Y(X(e))}));Promise.all(e).then((function(e){var t=[];e.forEach((function(e){t.push(e[0].name.common)})),R(t)})).catch(S)}}),[i]),Object(T.jsx)(be.a,{open:Boolean(t),onClose:function(){return c("/")},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(T.jsxs)(ue.a,{sx:{width:"80vw",backgroundColor:"#fff"},children:[d&&Object(T.jsx)(u.a,{}),i&&!m&&Object(T.jsxs)(b.a,{elevation:16,sx:{padding:"20px",textAlign:"center",backgroundColor:"eee"},children:[Object(T.jsx)(y.a,{gutterBottom:!0,variant:"h3",component:"div",sx:{width:"100%"},children:i.name.common}),Object(T.jsxs)("div",{className:"flex-between",children:[Object(T.jsx)("div",{className:"card-block",children:Object(T.jsx)("img",{className:"card-block__img",src:i.flags.svg,alt:i.name.common})}),Object(T.jsxs)(f.a,{children:[Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(xe.a,{})}),Object(T.jsx)(v.a,{primary:"Native Name: ".concat(Object.values(i.name.nativeName)[0].common)})]}),Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(P.a,{})}),Object(T.jsx)(v.a,{primary:"Population: ".concat(i.population)})]}),Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(Ae.a,{})}),Object(T.jsx)(v.a,{primary:"Region: ".concat(i.region)})]}),Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(C.a,{})}),Object(T.jsx)(v.a,{primary:"Sub Region: ".concat(i.subregion)})]}),Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(N.a,{})}),Object(T.jsx)(v.a,{primary:"Capital: ".concat(i.capital)})]})]}),Object(T.jsxs)(f.a,{children:[Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(me.a,{})}),Object(T.jsx)(v.a,{primary:"Top Level Domain: ".concat(i.tld[0])})]}),Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(fe.a,{})}),Object(T.jsx)(v.a,{primary:"Currencies: ".concat(Object.values(i.currencies)[0].name)})]}),Object(T.jsxs)(g.a,{disablePadding:!0,children:[Object(T.jsx)(A.a,{children:Object(T.jsx)(ve.a,{})}),Object(T.jsx)(v.a,{primary:"Languages: ".concat(Object.values(i.languages).join(", "))})]})]})]}),L.length>0&&Object(T.jsxs)("div",{className:"flex-between",style:{marginTop:"20px"},children:["Boarders: ",L.map((function(e){return Object(T.jsx)(p.a,{variant:"outlined",size:"small",sx:{color:"#777"},children:Object(T.jsx)(k,{countryName:e,text:e})},e)}))]})]})]})})};s.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(l.a,{store:ie,children:Object(T.jsx)(j.a,{children:Object(T.jsxs)(o.d,{children:[Object(T.jsx)(o.b,{path:"/",element:Object(T.jsx)(de,{})}),Object(T.jsx)(o.b,{path:"home",element:Object(T.jsx)(o.a,{to:"/",replace:!0})}),Object(T.jsx)(o.b,{path:"country",children:Object(T.jsx)(o.b,{path:":name",element:Object(T.jsx)(Se,{})})}),Object(T.jsx)(o.b,{path:"*",element:Object(T.jsx)("h1",{children:"Page not found"})})]})})})}),document.getElementById("root"))}},[[152,1,2]]]);
//# sourceMappingURL=main.900593d5.chunk.js.map